<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Trait database harmonization • traits4models</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Trait database harmonization">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">traits4models</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><h6 class="dropdown-header" data-toc-skip>Data preparation</h6></li>
    <li><a class="dropdown-item" href="../articles/TraitDatabaseHarmonization.html">Trait database harmonization</a></li>
    <li><a class="dropdown-item" href="../articles/AllometryDatabaseHarmonization.html">Allometry database harmonization</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Building species parameter tables</h6></li>
    <li><a class="dropdown-item" href="../articles/SpeciesParameterizationMEDFATE.html">Building species parameter tables for medfate</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/emf-creaf/traits4models/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Trait database harmonization</h1>
                        <h4 data-toc-skip class="author">Miquel De
Cáceres / Nicolas Martin-StPaul</h4>
            
            <h4 data-toc-skip class="date">2024-09-17</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/emf-creaf/traits4models/blob/HEAD/vignettes/TraitDatabaseHarmonization.Rmd" class="external-link"><code>vignettes/TraitDatabaseHarmonization.Rmd</code></a></small>
      <div class="d-none name"><code>TraitDatabaseHarmonization.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Species parameter values cannot be drawn from a single data source.
Moreover, the availability of plant trait data continuously increases,
as additional efforts are made in observational or experimental studies
<span class="citation">(Kattge et al. 2020)</span>. This means that
multiple data sources need to be harmonized before species parameter
tables are build, in terms of:</p>
<pre><code>a) Nomenclature of measured variables.
b) Measurement units.
c) Taxonomy of the measured biological entities. </code></pre>
<p>The result of this harmonization needs to be stored in a harmonized
format for subsequent use when creating species parameter tables. This
vignette illustrates the harmonization procedures for an example data
set using package <strong>trait4models</strong> and the usual
<strong>tidyverse</strong> packages. Harmonization of allometric
equations is explained in a companion vignette.</p>
<blockquote>
<p><strong>IMPORTANT</strong>: This vignette is not self-contained, in
the sense that it cannot be reproduced without access to data sets that
are not included. Nevertheless, it is intended to serve as example of
species parameterization for other regions.</p>
</blockquote>
<div class="section level3">
<h3 id="required-packages">Required packages<a class="anchor" aria-label="anchor" href="#required-packages"></a>
</h3>
<p>Assuming we have <strong>traits4models</strong> installed, we load it
and other common packages that we will employ in this vignette:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://emf-creaf.github.io/traits4models/">traits4models</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org" class="external-link">readr</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example-dataset">Example dataset<a class="anchor" aria-label="anchor" href="#example-dataset"></a>
</h3>
<p>As example for the harmonization process, here we will use data from
a Bartlett et al. <span class="citation">(2016)</span>. Much larger data
sets can (and should) be processed, but they take much more time.
Bartlett et al. provide traits that describe the leaf/stem/root
hydraulic vulnerability curves of several species as well as water
potential corresponding to stomatal aperture. We start by loading the
dataset:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DB_path</span> <span class="op">&lt;-</span> <span class="st">"~/OneDrive/EMF_datasets/PlantTraitDatabases/"</span></span>
<span><span class="va">db</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DB_path</span>, <span class="st">"Sources/Bartlett_et_al_2016/pnas.1604088113.sd01.csv"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The data looks as follows:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">db</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 310 × 26</span></span></span>
<span><span class="co">##    Group      Name          Biome `Evergreen/Decid` `Leaf P50 (MPa)` `TLP (MPa)`</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> Angiosperm Acacia gregg… Semi… E                            <span style="color: #BB0000;">NA</span>          -<span style="color: #BB0000;">4.25</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> Angiosperm Acer campest… Temp… D                            -<span style="color: #BB0000;">1.32</span>       -<span style="color: #BB0000;">1.9</span> </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> Angiosperm Acer grandid… Temp… D                            <span style="color: #BB0000;">NA</span>          -<span style="color: #BB0000;">2.45</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> Angiosperm Acer monspes… Med.… D                            -<span style="color: #BB0000;">1.89</span>       -<span style="color: #BB0000;">2.2</span> </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> Angiosperm Acer negundo  Temp… D                            <span style="color: #BB0000;">NA</span>          -<span style="color: #BB0000;">1.59</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> Angiosperm Acer pseudop… Temp… D                            -<span style="color: #BB0000;">1.19</span>       -<span style="color: #BB0000;">1.4</span> </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> Angiosperm Acer rubrum   Temp… D                            -<span style="color: #BB0000;">1.7</span>        -<span style="color: #BB0000;">1.59</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> Angiosperm Acer sacchar… Temp… D                            <span style="color: #BB0000;">NA</span>          -<span style="color: #BB0000;">2.78</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> Angiosperm Adansonia ru… Trop… D                            <span style="color: #BB0000;">NA</span>          -<span style="color: #BB0000;">1.12</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> Angiosperm Adansonia za  Trop… D                            <span style="color: #BB0000;">NA</span>          -<span style="color: #BB0000;">1.26</span></span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 300 more rows</span></span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 20 more variables: `Stem P50 (MPa)` &lt;dbl&gt;, `Stem P88 (MPa)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `Stem P12 (MPa)` &lt;dbl&gt;, `Root P50 (MPa)` &lt;dbl&gt;, `Gs P50 (MPa)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `Gs 95 (MPa)` &lt;dbl&gt;, `plant Psi_lethal (MPa)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `Psimin_predawn (MPa)` &lt;dbl&gt;, `Psimin_midday (MPa)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `Psimin_midday and/or predawn Method` &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `Reference (for Leaf P50)` &lt;chr&gt;, `Reference (for TLP)` &lt;chr&gt;, …</span></span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="harmonizing-notation-and-measurement-units">Harmonizing notation and measurement units<a class="anchor" aria-label="anchor" href="#harmonizing-notation-and-measurement-units"></a>
</h2>
<p>The first steps to be done are to harmonize trait notation, i.e. how
plant traits are referred to, and if necessary, change their units.
Package <strong>traits4models</strong> includes a data table called
<code>HarmonizedTraitDefinition</code> that presents plant trait
definitions and their required notation and units:</p>
<table class="table">
<colgroup>
<col width="65%">
<col width="17%">
<col width="4%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th align="left">Definition</th>
<th align="left">Notation</th>
<th align="left">Type</th>
<th align="left">Units</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Life form</td>
<td align="left">LifeForm</td>
<td align="left">String</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">Growth form</td>
<td align="left">GrowthForm</td>
<td align="left">String</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">Leaf shape</td>
<td align="left">LeafShape</td>
<td align="left">String</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">Leaf area</td>
<td align="left">LeafArea</td>
<td align="left">Numeric</td>
<td align="left">mm2</td>
</tr>
<tr class="odd">
<td align="left">Leaf size (category)</td>
<td align="left">LeafSize</td>
<td align="left">String</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">Leaf angle (inclination, orientation)</td>
<td align="left">LeafAngle</td>
<td align="left">Numeric</td>
<td align="left">degrees</td>
</tr>
<tr class="odd">
<td align="left">Dispersal syndrome</td>
<td align="left">DispersalMode</td>
<td align="left">String</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">Leaf phenology type</td>
<td align="left">PhenologyType</td>
<td align="left">String</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">Duration of leaves (leaf lifespan)</td>
<td align="left">LeafDuration</td>
<td align="left">Numeric</td>
<td align="left">yrs</td>
</tr>
<tr class="even">
<td align="left">Maximum plant height</td>
<td align="left">Hmax</td>
<td align="left">Numeric</td>
<td align="left">cm</td>
</tr>
<tr class="odd">
<td align="left">Actual plant height</td>
<td align="left">Hact</td>
<td align="left">Numeric</td>
<td align="left">cm</td>
</tr>
<tr class="even">
<td align="left">Rooting depth</td>
<td align="left">Z95</td>
<td align="left">Numeric</td>
<td align="left">mm</td>
</tr>
<tr class="odd">
<td align="left">Crown ratio (crown length divided over total
height)</td>
<td align="left">CrownRatio</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">Leaf area per leaf dry mass (specific leaf area, SLA),
1/ Leaf mass per area (LMA)</td>
<td align="left">SLA</td>
<td align="left">Numeric</td>
<td align="left">m2<em>kg-1 = mm2</em>mg-1</td>
</tr>
<tr class="odd">
<td align="left">Leaf area to sapwood area ratio (Al2As), 1 / Huber
Value (Hv)</td>
<td align="left">Al2As</td>
<td align="left">Numeric</td>
<td align="left">m2*m-2</td>
</tr>
<tr class="even">
<td align="left">Proportion of sapwood corresponding to conducive
elements (vessels or tracheids) as opposed to parenchymatic tissue.</td>
<td align="left">conduit2sapwood</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">Specific root length</td>
<td align="left">SRL</td>
<td align="left">Numeric</td>
<td align="left">cm/g</td>
</tr>
<tr class="even">
<td align="left">Proportion of total fine fuels that are dead</td>
<td align="left">pDead</td>
<td align="left">Numeric</td>
<td align="left">[0-1]</td>
</tr>
<tr class="odd">
<td align="left">Stem carbon (C) content per stem dry mass</td>
<td align="left">WoodC</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">Density of leaf tissue (dry weight over volume)</td>
<td align="left">LeafDensity</td>
<td align="left">Numeric</td>
<td align="left">g<em>cm-3 = mg</em>mm-3</td>
</tr>
<tr class="odd">
<td align="left">Wood tissue density (at 0% humidity!)</td>
<td align="left">WoodDensity</td>
<td align="left">Numeric</td>
<td align="left">g<em>cm-3 = mg</em>mm-3</td>
</tr>
<tr class="even">
<td align="left">Density of fine root tissue (dry weight over
volume).</td>
<td align="left">FineRootDensity</td>
<td align="left">Numeric</td>
<td align="left">g<em>cm-3 = mg</em>mm-3</td>
</tr>
<tr class="odd">
<td align="left">Leaf width</td>
<td align="left">LeafWidth</td>
<td align="left">Numeric</td>
<td align="left">cm</td>
</tr>
<tr class="even">
<td align="left">Maximum stomatal conductance to water vapor</td>
<td align="left">Gswmax</td>
<td align="left">Numeric</td>
<td align="left">mol H2O * s-1 * m-2</td>
</tr>
<tr class="odd">
<td align="left">Minimum stomatal conductance to water vapor</td>
<td align="left">Gswmin</td>
<td align="left">Numeric</td>
<td align="left">mol H2O * s-1 * m-2</td>
</tr>
<tr class="even">
<td align="left">Osmotic potential at full turgor of leaves</td>
<td align="left">LeafPI0</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
</tr>
<tr class="odd">
<td align="left">Modulus of elasticity (capacity of the cell wall to
resist changes in volume in response to changes in turgor) of
leaves</td>
<td align="left">LeafEPS</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">Leaf apoplastic fraction</td>
<td align="left">LeafAF</td>
<td align="left">Numeric</td>
<td align="left">[0-1]</td>
</tr>
<tr class="odd">
<td align="left">Leaf water potential at turgor loss point</td>
<td align="left">Ptlp</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
</tr>
<tr class="even">
<td align="left">Slope coefficient of the Medlyn stomatal conductance
model</td>
<td align="left">g1_Medlyn</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">Parameters of the stomatal response to leaf water
potential</td>
<td align="left">Gs_P20</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
</tr>
<tr class="even">
<td align="left">Parameters of the stomatal response to leaf water
potential</td>
<td align="left">Gs_P50</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
</tr>
<tr class="odd">
<td align="left">Parameters of the stomatal response to leaf water
potential</td>
<td align="left">Gs_P80</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
</tr>
<tr class="even">
<td align="left">Parameters of the stomatal response to leaf water
potential</td>
<td align="left">Gs_P90</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
</tr>
<tr class="odd">
<td align="left">Parameters of the stomatal response to leaf water
potential</td>
<td align="left">Gs_P95</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
</tr>
<tr class="even">
<td align="left">Leaf photosynthesis carboxylation capacity (Vcmax) per
leaf area (Farquhar model)</td>
<td align="left">Vmax</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">Leaf photosynthesis electron transport capacity (Jmax)
per leaf area (Farquhar model)</td>
<td align="left">Jmax</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">Leaf nitrogen (N) content per leaf dry mass</td>
<td align="left">Nleaf</td>
<td align="left">Numeric</td>
<td align="left">mg/g</td>
</tr>
<tr class="odd">
<td align="left">Wood nitrogen (N) content per wood dry mass</td>
<td align="left">Nsapwood</td>
<td align="left">Numeric</td>
<td align="left">mg/g</td>
</tr>
<tr class="even">
<td align="left">Fine root nitrogen (N) content per fine root dry
mass</td>
<td align="left">Nfineroot</td>
<td align="left">Numeric</td>
<td align="left">mg/g</td>
</tr>
<tr class="odd">
<td align="left">Maximum stem-specific hydraulic conductivity</td>
<td align="left">Ks</td>
<td align="left">Numeric</td>
<td align="left">kg m-1 MPa-1 s-1</td>
</tr>
<tr class="even">
<td align="left">Maximum leaf-specific hydraulic conductivity
(Ks*Hv)</td>
<td align="left">Kl</td>
<td align="left">Numeric</td>
<td align="left">10-4 kg m-1 MPa-1 s-1</td>
</tr>
<tr class="odd">
<td align="left">Maximum leaf hydraulic conductance</td>
<td align="left">kleaf</td>
<td align="left">Numeric</td>
<td align="left">mmolm-2s-1MPa-1</td>
</tr>
<tr class="even">
<td align="left">Maximum whole-plant hydraulic conductance</td>
<td align="left">kplant</td>
<td align="left">Numeric</td>
<td align="left">mmolm-2s-1MPa-1</td>
</tr>
<tr class="odd">
<td align="left">Parameters of the stem vulnerability curve</td>
<td align="left">VCstem_P12</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
</tr>
<tr class="even">
<td align="left">Parameters of the stem vulnerability curve</td>
<td align="left">VCstem_P50</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
</tr>
<tr class="odd">
<td align="left">Parameters of the stem vulnerability curve</td>
<td align="left">VCstem_P88</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
</tr>
<tr class="even">
<td align="left">Parameters of the stem vulnerability curve</td>
<td align="left">VCstem_slope</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">Parameters of the leaf vulnerability curve</td>
<td align="left">VCleaf_P12</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
</tr>
<tr class="even">
<td align="left">Parameters of the leaf vulnerability curve</td>
<td align="left">VCleaf_P50</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
</tr>
<tr class="odd">
<td align="left">Parameters of the leaf vulnerability curve</td>
<td align="left">VCleaf_P88</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
</tr>
<tr class="even">
<td align="left">Parameters of the leaf vulnerability curve</td>
<td align="left">VCleaf_slope</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">Parameters of the root vulnerability curve</td>
<td align="left">VCroot_P12</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
</tr>
<tr class="even">
<td align="left">Parameters of the root vulnerability curve</td>
<td align="left">VCroot_P50</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
</tr>
<tr class="odd">
<td align="left">Parameters of the root vulnerability curve</td>
<td align="left">VCroot_P88</td>
<td align="left">Numeric</td>
<td align="left">MPa</td>
</tr>
<tr class="even">
<td align="left">Parameters of the root vulnerability curve</td>
<td align="left">VCroot_slope</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">Leaf dry mass per leaf fresh mass (leaf dry matter
content, LDMC)</td>
<td align="left">LDMC</td>
<td align="left">Numeric</td>
<td align="left">mg/g</td>
</tr>
<tr class="even">
<td align="left">Leaf fuel moisture content (% of dry weight)</td>
<td align="left">LFMC</td>
<td align="left">Numeric</td>
<td align="left">% of dry weight</td>
</tr>
<tr class="odd">
<td align="left">Ratio of foliar (photosynthetic) + small branches
(&lt;6.35 mm) dry biomass to foliar (photosynthetic) dry biomass</td>
<td align="left">r635</td>
<td align="left">Numeric</td>
<td align="left">&gt;=1</td>
</tr>
<tr class="even">
<td align="left">High fuel heat content</td>
<td align="left">HeatContent</td>
<td align="left">Numeric</td>
<td align="left">kJ/kg</td>
</tr>
<tr class="odd">
<td align="left">Surface-area-to-volume ratio</td>
<td align="left">SAV</td>
<td align="left">Numeric</td>
<td align="left">m2/m3</td>
</tr>
<tr class="even">
<td align="left">Percent of lignin+cutin over dry weight in leaves</td>
<td align="left">LigninPercent</td>
<td align="left">Numeric</td>
<td align="left">%</td>
</tr>
<tr class="odd">
<td align="left">Bark thickness</td>
<td align="left">BarkThickness</td>
<td align="left">Numeric</td>
<td align="left">mm</td>
</tr>
<tr class="even">
<td align="left">Seedbank average longevity</td>
<td align="left">SeedLongevity</td>
<td align="left">Numeric</td>
<td align="left">yrs</td>
</tr>
<tr class="odd">
<td align="left">Seed dry mass</td>
<td align="left">SeedMass</td>
<td align="left">Numeric</td>
<td align="left">mg</td>
</tr>
<tr class="even">
<td align="left">Succulence (g of water /m2 of projected leaf)</td>
<td align="left">LeafSucculence</td>
<td align="left">Numeric</td>
<td align="left">g/m2</td>
</tr>
<tr class="odd">
<td align="left">Leaf projected to half developed area (m2/m2)</td>
<td align="left">LeafProjectedToHalfDevelopedArea</td>
<td align="left">Numeric</td>
<td align="left">m2/m2</td>
</tr>
<tr class="even">
<td align="left">Minimum conductance of the leaf to water vapor on
developed area basis (including cuticule and stomatal leakiness)</td>
<td align="left">GminLeaf</td>
<td align="left">Numeric</td>
<td align="left">mmolm-2s-1</td>
</tr>
<tr class="odd">
<td align="left">Q10 of the initial gmin response to temperature (before
Tp)</td>
<td align="left">Q10gminPhase1</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">Q10 of the initial gmin response to temperature (after
Tp)</td>
<td align="left">Q10gminPhase2</td>
<td align="left">Numeric</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">Transition phase for gmin dependence to
temperature</td>
<td align="left">GminTransitionPhase</td>
<td align="left">Numeric</td>
<td align="left">C</td>
</tr>
</tbody>
</table>
<p>In the case of Bartlett’s dataset we are interested in points of the
vulnerability curve and stomatal behavior. We can check their
corresponding names in <code>HarmonizedTraitDefinition</code>. For
example, <code>Leaf P50 (MPa)</code> is the water potential
corresponding to the 50% conductance loss in leaves, and should be named
<code>VCleaf_P50</code> according to
<code>HarmonizedTraitDefinition</code>, and so on. We can use
<strong>dplyr</strong> function <code><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename()</a></code> to harmonize trait
notation. In this case, all plant traits we are interested in are given
in units of MPa, and <code>HarmonizedTraitDefinition</code> reports the
same units for these traits, so there is no need to harmonize
measurement units. The code for notation harmonization could be as
follows:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">db_var</span> <span class="op">&lt;-</span> <span class="va">db</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">Name</span>, <span class="st">"Leaf P50 (MPa)"</span>, <span class="st">"Stem P50 (MPa)"</span>, <span class="st">"Stem P88 (MPa)"</span>, <span class="st">"Stem P12 (MPa)"</span>, </span>
<span>                <span class="st">"Root P50 (MPa)"</span>, <span class="st">"Gs P50 (MPa)"</span>, <span class="st">"Gs 95 (MPa)"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>originalName <span class="op">=</span> <span class="va">Name</span>,</span>
<span>                VCleaf_P50 <span class="op">=</span> <span class="st">"Leaf P50 (MPa)"</span>,</span>
<span>                VCstem_P50 <span class="op">=</span> <span class="st">"Stem P50 (MPa)"</span>,</span>
<span>                VCstem_P12 <span class="op">=</span> <span class="st">"Stem P12 (MPa)"</span>,</span>
<span>                VCstem_P88 <span class="op">=</span> <span class="st">"Stem P88 (MPa)"</span>,</span>
<span>                VCroot_P50 <span class="op">=</span> <span class="st">"Root P50 (MPa)"</span>,</span>
<span>                Gs_P50 <span class="op">=</span> <span class="st">"Gs P50 (MPa)"</span>,</span>
<span>                Gs_P95 <span class="op">=</span> <span class="st">"Gs 95 (MPa)"</span><span class="op">)</span> </span></code></pre></div>
<p>Note that we also renamed the column containing the plant species
into <code>originalName</code>. The original name represents the taxon
name that is used by the data set owner/provider and is key for
taxonomic harmonization. The result of this step should contain
<code>originalName</code>, plus one column for each harmonized trait,
and (preferably) two columns called <code>Reference</code> and
<code>Priority</code>. We can add those columns manually using:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">db_var</span> <span class="op">&lt;-</span> <span class="va">db_var</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>Reference <span class="op">=</span> <span class="st">"Bartlett et al. (2016)"</span>,</span>
<span>                Priority <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<p>Column <code>Reference</code> indicates the bibliographic source of
the data, whereas <code>Priority</code> allows defining an order in
which trait data sources will be processed. Those with highest priority
order (lowest value of <code>Priority</code>) will be given
preference.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">db_var</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 310 × 10</span></span></span>
<span><span class="co">##    originalName    VCleaf_P50 VCstem_P50 VCstem_P88 VCstem_P12 VCroot_P50 Gs_P50</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> Acacia greggii       <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>        <span style="color: #BB0000;">NA</span>          <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> Acer campestre       -<span style="color: #BB0000;">1.32</span>      -<span style="color: #BB0000;">3.87</span>      -<span style="color: #BB0000;">4.60</span>     -<span style="color: #BB0000;">3.19</span>       <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> Acer grandiden…      <span style="color: #BB0000;">NA</span>         -<span style="color: #BB0000;">3.66</span>      -<span style="color: #BB0000;">7.14</span>     -<span style="color: #BB0000;">0.92</span>       -<span style="color: #BB0000;">0.86</span>  <span style="color: #BB0000;">NA</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> Acer monspessu…      -<span style="color: #BB0000;">1.89</span>      -<span style="color: #BB0000;">3.31</span>      -<span style="color: #BB0000;">4.61</span>     -<span style="color: #BB0000;">2.02</span>       -<span style="color: #BB0000;">1.6</span>   <span style="color: #BB0000;">NA</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> Acer negundo         <span style="color: #BB0000;">NA</span>         -<span style="color: #BB0000;">1.34</span>      -<span style="color: #BB0000;">2.74</span>     -<span style="color: #BB0000;">0.451</span>      -<span style="color: #BB0000;">0.3</span>   <span style="color: #BB0000;">NA</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> Acer pseudopla…      -<span style="color: #BB0000;">1.19</span>      -<span style="color: #BB0000;">2.37</span>      -<span style="color: #BB0000;">2.71</span>     -<span style="color: #BB0000;">1.95</span>       <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> Acer rubrum          -<span style="color: #BB0000;">1.7</span>       -<span style="color: #BB0000;">3.9</span>       -<span style="color: #BB0000;">6</span>        -<span style="color: #BB0000;">2.5</span>        -<span style="color: #BB0000;">1.69</span>  <span style="color: #BB0000;">NA</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> Acer saccharum       <span style="color: #BB0000;">NA</span>         -<span style="color: #BB0000;">3.97</span>      <span style="color: #BB0000;">NA</span>        <span style="color: #BB0000;">NA</span>          -<span style="color: #BB0000;">1.5</span>   -<span style="color: #BB0000;">1.56</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> Adansonia rubr…      <span style="color: #BB0000;">NA</span>         -<span style="color: #BB0000;">1.1</span>       -<span style="color: #BB0000;">2.82</span>     -<span style="color: #BB0000;">0.293</span>      <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> Adansonia za         <span style="color: #BB0000;">NA</span>         -<span style="color: #BB0000;">1.7</span>       -<span style="color: #BB0000;">3.49</span>     -<span style="color: #BB0000;">0.59</span>       <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>   </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 300 more rows</span></span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 3 more variables: Gs_P95 &lt;dbl&gt;, Reference &lt;chr&gt;, Priority &lt;dbl&gt;</span></span></span></code></pre>
</div>
<div class="section level2">
<h2 id="taxonomic-harmonization">Taxonomic harmonization<a class="anchor" aria-label="anchor" href="#taxonomic-harmonization"></a>
</h2>
<p>Package <strong>traits4models</strong> currently relies on <a href="https://www.worldfloraonline.org/" class="external-link">World Flora Online</a> for
taxonomic harmonization, via package <strong>WorldFlora</strong> <span class="citation">(Kindt 2020)</span> available at <a href="https://cran.r-project.org/package=WorldFlora" class="external-link">CRAN</a>. This
latter package requires a static copy of the World Flora Online
Taxonomic Backbone data that can be downloaded from the <a href="https://www.worldfloraonline.org/" class="external-link">World Flora Online</a> website.
Note that you should use a different DOI reference when reporting your
harmonization procedures. We are using here <a href="https://doi.org/10.5281/zenodo.7460141" class="external-link">v.2024.06</a>. We assume
the user has already downloaded the backbone and stored it in a file
called <em>classification.csv</em>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">WFO_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DB_path</span>, <span class="st">"WFO_Backbone/classification.csv"</span><span class="op">)</span></span></code></pre></div>
<p>Taxonomic harmonization is done by calling function
<code><a href="../reference/harmonize_taxonomy_WFO.html">harmonize_taxonomy_WFO()</a></code> with a data frame (where notation
and units are already harmonized) and the path to the WFO backbone (we
omit the console output):</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">db_post</span> <span class="op">&lt;-</span> <span class="fu">traits4models</span><span class="fu">::</span><span class="fu"><a href="../reference/harmonize_taxonomy_WFO.html">harmonize_taxonomy_WFO</a></span><span class="op">(</span><span class="va">db_var</span>, <span class="va">WFO_file</span><span class="op">)</span></span></code></pre></div>
<p>The function requires that the input data frame contains a column
called <code>originalName</code>, to identify the original taxa names
(additional columns are simply transferred to the output). It performs
both direct and fuzzy matching, which may lead to large processing time
for large datasets. If we inspect the resulting data frame, we will see
the additional columns, informing about accepted names and parent
taxonomic entities:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">db_post</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 16</span></span></span>
<span><span class="co">##   originalName  acceptedName acceptedNameAuthorship family genus specificEpithet</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> Acacia gregg… Senegalia g… (A.Gray) Britton &amp; Ro… Fabac… Sene… greggii        </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> Acer campest… Acer campes… L.                     Sapin… Acer  campestre      </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> Acer grandid… Acer saccha… (Nutt.) Desmarais      Sapin… Acer  saccharum      </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> Acer monspes… Acer monspe… L.                     Sapin… Acer  monspessulanum </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> Acer negundo  Acer negundo L.                     Sapin… Acer  negundo        </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> Acer pseudop… Acer pseudo… L.                     Sapin… Acer  pseudoplatanus </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 10 more variables: taxonRank &lt;chr&gt;, VCleaf_P50 &lt;dbl&gt;, VCstem_P50 &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   VCstem_P88 &lt;dbl&gt;, VCstem_P12 &lt;dbl&gt;, VCroot_P50 &lt;dbl&gt;, Gs_P50 &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   Gs_P95 &lt;dbl&gt;, Reference &lt;chr&gt;, Priority &lt;dbl&gt;</span></span></span></code></pre>
</div>
<div class="section level2">
<h2 id="checking-harmonized-trait-data">Checking harmonized trait data<a class="anchor" aria-label="anchor" href="#checking-harmonized-trait-data"></a>
</h2>
<p>The packages includes function <code><a href="../reference/check_harmonized_trait.html">check_harmonized_trait()</a></code>
to check whether a given data frame conforms in structure and content to
what is later required for parameter table filling:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/check_harmonized_trait.html">check_harmonized_trait</a></span><span class="op">(</span><span class="va">db_post</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #00BB00;">✔</span> The data frame is acceptable as harmonized trait data source.</span></span></code></pre>
<p>In this case, the data set is ready to be used in parameter
estimation. As an example, we can run the same checking function with
the data base before taxonomic harmonization:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/check_harmonized_trait.html">check_harmonized_trait</a></span><span class="op">(</span><span class="va">db_var</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #BBBB00;">!</span> Taxonomy columns missing: acceptedName acceptedNameAuthorship family genus specificEpithet taxonRank</span></span></code></pre>
<pre><code><span><span class="co">## <span style="color: #BBBB00;">!</span> The data frame is not acceptable as harmonized trait data source.</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="storing-harmonized-dataset">Storing harmonized dataset<a class="anchor" aria-label="anchor" href="#storing-harmonized-dataset"></a>
</h2>
<p>Harmonized data tables can be stored in <strong>.csv</strong> text
format or compressed <strong>.rds</strong> format. Moreover, all tables
should be stored in the same directory, here in the
<code>Products/harmonized/</code> path.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DB_path</span>, <span class="st">"Products/harmonized/Bartlett_et_al_2016.rds"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">db_post</span>, <span class="va">file_out</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="accessing-harmonized-trait-data">Accessing harmonized trait data<a class="anchor" aria-label="anchor" href="#accessing-harmonized-trait-data"></a>
</h2>
<div class="section level3">
<h3 id="list-of-harmonized-trait-databases">List of harmonized trait databases<a class="anchor" aria-label="anchor" href="#list-of-harmonized-trait-databases"></a>
</h3>
<p>As mentioned in the introduction, here it is assumed that a set of
plant trait databases have been harmonized. In our case, harmonized data
files have been stored in the following path:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">harmonized_trait_path</span> <span class="op">&lt;-</span> <span class="st">"~/OneDrive/EMF_datasets/PlantTraitDatabases/Products/harmonized"</span></span></code></pre></div>
<p>We can list the set of harmonized sources using:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trait_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">harmonized_trait_path</span>, full.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">trait_files</span></span></code></pre></div>
<pre><code><span><span class="co">##   [1] "00_compilation_CCfineroot.rds"                          </span></span>
<span><span class="co">##   [2] "00_compilation_CCleaf.rds"                              </span></span>
<span><span class="co">##   [3] "00_compilation_CCsapwood.rds"                           </span></span>
<span><span class="co">##   [4] "00_compilation_FineFuelRatio.rds"                       </span></span>
<span><span class="co">##   [5] "00_compilation_Flammability_HeatContent.rds"            </span></span>
<span><span class="co">##   [6] "00_compilation_Flammability_SAV.rds"                    </span></span>
<span><span class="co">##   [7] "00_compilation_Phenology_Budburst.rds"                  </span></span>
<span><span class="co">##   [8] "00_compilation_Phenology_Senescence.rds"                </span></span>
<span><span class="co">##   [9] "Augustine_McCulloh_2024.rds"                            </span></span>
<span><span class="co">##  [10] "Baez_et_al_2022_BarkThickness.rds"                      </span></span>
<span><span class="co">##  [11] "Baez_et_al_2022_GrowthForm.rds"                         </span></span>
<span><span class="co">##  [12] "Baez_et_al_2022_Ks.rds"                                 </span></span>
<span><span class="co">##  [13] "Baez_et_al_2022_LDMC.rds"                               </span></span>
<span><span class="co">##  [14] "Baez_et_al_2022_LeafArea.rds"                           </span></span>
<span><span class="co">##  [15] "Baez_et_al_2022_Nleaf.rds"                              </span></span>
<span><span class="co">##  [16] "Baez_et_al_2022_SLA.rds"                                </span></span>
<span><span class="co">##  [17] "Baez_et_al_2022_WoodDensity.rds"                        </span></span>
<span><span class="co">##  [18] "Bartlett_et_al_2012.rds"                                </span></span>
<span><span class="co">##  [19] "Bartlett_et_al_2016.rds"                                </span></span>
<span><span class="co">##  [20] "Bjorkman_et_al_2018_Hact.rds"                           </span></span>
<span><span class="co">##  [21] "Bjorkman_et_al_2018_LDMC.rds"                           </span></span>
<span><span class="co">##  [22] "Bjorkman_et_al_2018_LeafArea.rds"                       </span></span>
<span><span class="co">##  [23] "Bjorkman_et_al_2018_Nleaf.rds"                          </span></span>
<span><span class="co">##  [24] "Bjorkman_et_al_2018_SeedMass.rds"                       </span></span>
<span><span class="co">##  [25] "Bjorkman_et_al_2018_SLA.rds"                            </span></span>
<span><span class="co">##  [26] "Bjorkman_et_al_2018_Z95.rds"                            </span></span>
<span><span class="co">##  [27] "Chianucci_et_al_2018_LeafAngle.rds"                     </span></span>
<span><span class="co">##  [28] "Choat_et_al_2012_XFT.rds"                               </span></span>
<span><span class="co">##  [29] "De_Caceres_et_al_2019_CR_pDead.rds"                     </span></span>
<span><span class="co">##  [30] "Diaz_et_al_2022.rds"                                    </span></span>
<span><span class="co">##  [31] "Duursma_et_al_2018.rds"                                 </span></span>
<span><span class="co">##  [32] "Falster_et_al_2021_Al2As.rds"                           </span></span>
<span><span class="co">##  [33] "Falster_et_al_2021_Hact.rds"                            </span></span>
<span><span class="co">##  [34] "Falster_et_al_2021_Jmax.rds"                            </span></span>
<span><span class="co">##  [35] "Falster_et_al_2021_Ks.rds"                              </span></span>
<span><span class="co">##  [36] "Falster_et_al_2021_LeafAngle.rds"                       </span></span>
<span><span class="co">##  [37] "Falster_et_al_2021_LeafArea.rds"                        </span></span>
<span><span class="co">##  [38] "Falster_et_al_2021_LeafDensity.rds"                     </span></span>
<span><span class="co">##  [39] "Falster_et_al_2021_LeafDuration.rds"                    </span></span>
<span><span class="co">##  [40] "Falster_et_al_2021_LeafEPS.rds"                         </span></span>
<span><span class="co">##  [41] "Falster_et_al_2021_LeafPI0.rds"                         </span></span>
<span><span class="co">##  [42] "Falster_et_al_2021_LeafShape.rds"                       </span></span>
<span><span class="co">##  [43] "Falster_et_al_2021_LeafWidth.rds"                       </span></span>
<span><span class="co">##  [44] "Falster_et_al_2021_LifeForm.rds"                        </span></span>
<span><span class="co">##  [45] "Falster_et_al_2021_Nsapwood.rds"                        </span></span>
<span><span class="co">##  [46] "Falster_et_al_2021_SeedMass.rds"                        </span></span>
<span><span class="co">##  [47] "Falster_et_al_2021_SLA.rds"                             </span></span>
<span><span class="co">##  [48] "Falster_et_al_2021_SRL.rds"                             </span></span>
<span><span class="co">##  [49] "Falster_et_al_2021_StemEPS.rds"                         </span></span>
<span><span class="co">##  [50] "Falster_et_al_2021_VCstem_P12.rds"                      </span></span>
<span><span class="co">##  [51] "Falster_et_al_2021_VCstem_P50.rds"                      </span></span>
<span><span class="co">##  [52] "Falster_et_al_2021_VCstem_P88.rds"                      </span></span>
<span><span class="co">##  [53] "Falster_et_al_2021_Vmax.rds"                            </span></span>
<span><span class="co">##  [54] "Falster_et_al_2021_WoodDensity.rds"                     </span></span>
<span><span class="co">##  [55] "Guerrero_Ramirez_et_al_2021_GRooT_FineRootDensity.rds"  </span></span>
<span><span class="co">##  [56] "Guerrero_Ramirez_et_al_2021_GRooT_Nfineroot.rds"        </span></span>
<span><span class="co">##  [57] "Guerrero_Ramirez_et_al_2021_GRooT_RootingDepth.rds"     </span></span>
<span><span class="co">##  [58] "Guerrero_Ramirez_et_al_2021_GRooT_SRL.rds"              </span></span>
<span><span class="co">##  [59] "Guillemot_et_al_2022.rds"                               </span></span>
<span><span class="co">##  [60] "Henry_et_al_2019.rds"                                   </span></span>
<span><span class="co">##  [61] "Hoshika_et_al_2018.rds"                                 </span></span>
<span><span class="co">##  [62] "Kattge_et_al_2020_DispersalMode.rds"                    </span></span>
<span><span class="co">##  [63] "Kattge_et_al_2020_GrowthForm.rds"                       </span></span>
<span><span class="co">##  [64] "Kattge_et_al_2020_Hact.rds"                             </span></span>
<span><span class="co">##  [65] "Kattge_et_al_2020_Jmax.rds"                             </span></span>
<span><span class="co">##  [66] "Kattge_et_al_2020_LeafAngle.rds"                        </span></span>
<span><span class="co">##  [67] "Kattge_et_al_2020_LeafArea.rds"                         </span></span>
<span><span class="co">##  [68] "Kattge_et_al_2020_LeafDensity.rds"                      </span></span>
<span><span class="co">##  [69] "Kattge_et_al_2020_LeafDuration.rds"                     </span></span>
<span><span class="co">##  [70] "Kattge_et_al_2020_LeafEPS.rds"                          </span></span>
<span><span class="co">##  [71] "Kattge_et_al_2020_LeafPI0.rds"                          </span></span>
<span><span class="co">##  [72] "Kattge_et_al_2020_LeafShape.rds"                        </span></span>
<span><span class="co">##  [73] "Kattge_et_al_2020_LeafWidth.rds"                        </span></span>
<span><span class="co">##  [74] "Kattge_et_al_2020_LifeForm.rds"                         </span></span>
<span><span class="co">##  [75] "Kattge_et_al_2020_LigninPercent.rds"                    </span></span>
<span><span class="co">##  [76] "Kattge_et_al_2020_Nfineroot.rds"                        </span></span>
<span><span class="co">##  [77] "Kattge_et_al_2020_Nleaf.rds"                            </span></span>
<span><span class="co">##  [78] "Kattge_et_al_2020_Nsapwood.rds"                         </span></span>
<span><span class="co">##  [79] "Kattge_et_al_2020_PhenologyType.rds"                    </span></span>
<span><span class="co">##  [80] "Kattge_et_al_2020_SeedLongevity.rds"                    </span></span>
<span><span class="co">##  [81] "Kattge_et_al_2020_SeedMass.rds"                         </span></span>
<span><span class="co">##  [82] "Kattge_et_al_2020_ShadeTol.rds"                         </span></span>
<span><span class="co">##  [83] "Kattge_et_al_2020_SLA.rds"                              </span></span>
<span><span class="co">##  [84] "Kattge_et_al_2020_SRL.rds"                              </span></span>
<span><span class="co">##  [85] "Kattge_et_al_2020_Vmax.rds"                             </span></span>
<span><span class="co">##  [86] "Kattge_et_al_2020_WoodC.rds"                            </span></span>
<span><span class="co">##  [87] "Kattge_et_al_2020_WoodDensity.rds"                      </span></span>
<span><span class="co">##  [88] "Kattge_et_al_2020_Z95.rds"                              </span></span>
<span><span class="co">##  [89] "Klein_et_al_2014.rds"                                   </span></span>
<span><span class="co">##  [90] "Kunert_Tomaskova_2020.rds"                              </span></span>
<span><span class="co">##  [91] "Lens_et_al_2016.rds"                                    </span></span>
<span><span class="co">##  [92] "Lin_et_al_2015.rds"                                     </span></span>
<span><span class="co">##  [93] "Liu_et_al_2019.rds"                                     </span></span>
<span><span class="co">##  [94] "MartinStPaul_et_al_2017.rds"                            </span></span>
<span><span class="co">##  [95] "Morris_et_al_2016.rds"                                  </span></span>
<span><span class="co">##  [96] "Ocampo_Zuleta_Pausas_Paula_2023_FLAMITS_HeatContent.rds"</span></span>
<span><span class="co">##  [97] "Petruzzellis_et_al_2021.rds"                            </span></span>
<span><span class="co">##  [98] "Pisek_Adamson_2020_LeafAngle.rds"                       </span></span>
<span><span class="co">##  [99] "Ramirez_Valiente_et_al_2020.rds"                        </span></span>
<span><span class="co">## [100] "Sjoman_et_al_2015.rds"                                  </span></span>
<span><span class="co">## [101] "Sjoman_et_al_2018.rds"                                  </span></span>
<span><span class="co">## [102] "Tavares_et_al_2023.rds"                                 </span></span>
<span><span class="co">## [103] "Tavsanoglu_Pausas_2018_Hact.rds"                        </span></span>
<span><span class="co">## [104] "Tavsanoglu_Pausas_2018_LDMC.rds"                        </span></span>
<span><span class="co">## [105] "Tavsanoglu_Pausas_2018_LeafArea.rds"                    </span></span>
<span><span class="co">## [106] "Tavsanoglu_Pausas_2018_LeafDuration.rds"                </span></span>
<span><span class="co">## [107] "Tavsanoglu_Pausas_2018_LeafShape.rds"                   </span></span>
<span><span class="co">## [108] "Tavsanoglu_Pausas_2018_LifeForm.rds"                    </span></span>
<span><span class="co">## [109] "Tavsanoglu_Pausas_2018_pDead.rds"                       </span></span>
<span><span class="co">## [110] "Tavsanoglu_Pausas_2018_PhenologyType.rds"               </span></span>
<span><span class="co">## [111] "Tavsanoglu_Pausas_2018_SeedMass.rds"                    </span></span>
<span><span class="co">## [112] "Tavsanoglu_Pausas_2018_SLA.rds"                         </span></span>
<span><span class="co">## [113] "Tavsanoglu_Pausas_2018_WoodDensity.rds"                 </span></span>
<span><span class="co">## [114] "Tavsanoglu_Pausas_2018_Z95.rds"                         </span></span>
<span><span class="co">## [115] "Tumber_Davila_et_al_2022.rds"                           </span></span>
<span><span class="co">## [116] "Vilagrosa_et_al_2014.rds"                               </span></span>
<span><span class="co">## [117] "Wang_et_al_2022_CPTD.rds"                               </span></span>
<span><span class="co">## [118] "Wang_et_al_2024.rds"                                    </span></span>
<span><span class="co">## [119] "Wolfe_et_al_2023.rds"                                   </span></span>
<span><span class="co">## [120] "Yan_et_al_2020.rds"                                     </span></span>
<span><span class="co">## [121] "Yebra_et_al_2024_LFMC.rds"                              </span></span>
<span><span class="co">## [122] "Zhu_et_al_2016.rds"                                     </span></span>
<span><span class="co">## [123] "Zhu_et_al_2018.rds"</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="querying-data-for-particular-traits-or-species">Querying data for particular traits or species<a class="anchor" aria-label="anchor" href="#querying-data-for-particular-traits-or-species"></a>
</h3>
<p>Before filling any species parameter table, it may be useful to
inspect the amount of information available for particular traits or
species. Package <strong>trait4models</strong> provides a couple of
utility functions for this. For example, we can load all values for
Gswmin, the minimum stomatal conductance, using function
<code><a href="../reference/get_trait_data.html">get_trait_data()</a></code>:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gsmin_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_trait_data.html">get_trait_data</a></span><span class="op">(</span><span class="va">harmonized_trait_path</span>, <span class="st">"Gswmin"</span>,</span>
<span>                           progress <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">gsmin_data</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##       originalName     acceptedName acceptedNameAuthorship   family  genus</span></span>
<span><span class="co">## 1       Abies alba       Abies alba                  Mill. Pinaceae  Abies</span></span>
<span><span class="co">## 2 Abies lasiocarpa Abies lasiocarpa          (Hook.) Nutt. Pinaceae  Abies</span></span>
<span><span class="co">## 3   Abies sibirica   Abies sibirica                 Ledeb. Pinaceae  Abies</span></span>
<span><span class="co">## 4       Acacia koa       Acacia koa                 A.Gray Fabaceae Acacia</span></span>
<span><span class="co">## 5  Acacia maidenii  Acacia maidenii               F.Muell. Fabaceae Acacia</span></span>
<span><span class="co">## 6   Acacia mangium   Acacia mangium                 Willd. Fabaceae Acacia</span></span>
<span><span class="co">##   specificEpithet taxonRank      Gswmin                         Reference</span></span>
<span><span class="co">## 1            alba   species 0.001500000                Wang et al. (2024)</span></span>
<span><span class="co">## 2      lasiocarpa   species 0.004779429         Boyce and Saunders (2000)</span></span>
<span><span class="co">## 3        sibirica   species 0.003044600    Brodribb McAdam, et al. (2014)</span></span>
<span><span class="co">## 4             koa   species 0.003800000 Pasquet-Kok Creese, et al. (2010)</span></span>
<span><span class="co">## 5        maidenii   species 0.004200000      Warren Aranda, et al. (2011)</span></span>
<span><span class="co">## 6         mangium   species 0.004750000      Warren Aranda, et al. (2011)</span></span>
<span><span class="co">##   Priority</span></span>
<span><span class="co">## 1        1</span></span>
<span><span class="co">## 2        1</span></span>
<span><span class="co">## 3        1</span></span>
<span><span class="co">## 4        1</span></span>
<span><span class="co">## 5        1</span></span>
<span><span class="co">## 6        1</span></span></code></pre>
<p>Analogously, if we are interested in querying trait information for a
particular taxa, we can use function <code><a href="../reference/get_trait_data.html">get_taxon_data()</a></code>:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ph_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_trait_data.html">get_taxon_data</a></span><span class="op">(</span><span class="va">harmonized_trait_path</span>, <span class="st">"Pinus halepensis"</span>,</span>
<span>                          progress <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ph_data</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##        Trait        Value Units</span></span>
<span><span class="co">## 1   LifeForm Phanerophyte  &lt;NA&gt;</span></span>
<span><span class="co">## 2   LifeForm Phanerophyte  &lt;NA&gt;</span></span>
<span><span class="co">## 3   LifeForm Phanerophyte  &lt;NA&gt;</span></span>
<span><span class="co">## 4 GrowthForm         Tree  &lt;NA&gt;</span></span>
<span><span class="co">## 5 GrowthForm         Tree  &lt;NA&gt;</span></span>
<span><span class="co">## 8  LeafShape       Needle  &lt;NA&gt;</span></span>
<span><span class="co">##                                                                                                                                                                                                                                Reference</span></span>
<span><span class="co">## 1                                                           Sophie Gachet, Errol V\xe9la, Thierry Tatoni, 2005, BASECO: a floristic and ecological database of Mediterranean French flora. Biodiversity and Conservation 14(4):1023-1034</span></span>
<span><span class="co">## 2 Dressler S, M Schmidt, G Zizka (2014) Introducing African Plants\x97A Photo Guide\x97An Interactive Photo Data-Base and Rapid Identification Tool for Continental Africa. Taxon 63(5) 1159-1161 DOI: http://dx.doi.org/10.12705/635.26</span></span>
<span><span class="co">## 3                                                                                                                                                                                                                            Greuter1984</span></span>
<span><span class="co">## 4                                                                      Weigelt, P., C. K\xf6nig, and H. Kreft (2019) GIFT \x96 A Global Inventory of Floras and Traits for macroecology and biogeography. bioRxiv doi.org/10.1101/535005</span></span>
<span><span class="co">## 5                                                                                                                                                                                                                        Liu et al. 2019</span></span>
<span><span class="co">## 8                                                                                                                                                                                                                                 unpub.</span></span>
<span><span class="co">##   Priority</span></span>
<span><span class="co">## 1        1</span></span>
<span><span class="co">## 2        1</span></span>
<span><span class="co">## 3        1</span></span>
<span><span class="co">## 4        1</span></span>
<span><span class="co">## 5        2</span></span>
<span><span class="co">## 8        1</span></span></code></pre>
</div>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-Bartlett2016" class="csl-entry">
Bartlett, Megan K, Tamir Klein, Steven Jansen, Brendan Choat, and Lawren
Sack. 2016. <span>“The Correlations and Sequence of Plant Stomatal,
Hydraulic, and Wilting Responses to Drought.”</span> <em>Proceedings of
the National Academy of Sciences of the United States of America</em>
113 (46): 13098–103. <a href="https://doi.org/10.1073/pnas.1604088113" class="external-link">https://doi.org/10.1073/pnas.1604088113</a>.
</div>
<div id="ref-Kattge2020" class="csl-entry">
Kattge, Jens, Gerhard Bönisch, Sandra Díaz, Sandra Lavorel, Iain Colin
Prentice, Paul Leadley, Susanne Tautenhahn, et al. 2020.
<span>“<span>TRY</span> Plant Trait Database – Enhanced Coverage and
Open Access.”</span> <em>Global Change Biology</em> 26 (1): 119–88. <a href="https://doi.org/10.1111/gcb.14904" class="external-link">https://doi.org/10.1111/gcb.14904</a>.
</div>
<div id="ref-kindt_worldflora_2020" class="csl-entry">
Kindt, Roeland. 2020. <span>“<span>WorldFlora</span>: <span>An</span>
<span>R</span> Package for Exact and Fuzzy Matching of Plant Names
Against the <span>World</span> <span>Flora</span> <span>Online</span>
Taxonomic Backbone Data.”</span> <em>Applications in Plant Sciences</em>
8 (9): e11388. <a href="https://doi.org/10.1002/aps3.11388" class="external-link">https://doi.org/10.1002/aps3.11388</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Miquel De Cáceres, Nicolas Martin-StPaul, Adriana Tovar, Víctor Granda.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
